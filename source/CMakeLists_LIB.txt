#
# Include directory for sources
#
include_directories(${MsFEComplex_INCLUDE_DIR})

#
# Name all sources
#
file(GLOB_RECURSE MsFEComplex_TARGET_APP_SRC  "*.cc") # application source files end with .cc
file(GLOB_RECURSE MsFEComplex_TARGET_LIB_SRC  "*.cpp") # source files
#file(GLOB_RECURSE MsFEComplex_TARGET_INC_HPP  "include/*.hpp") # template headers
set(MsFEComplex_TARGET_APP_SRC ${MsFEComplex_TARGET_APP_SRC})
set(MsFEComplex_TARGET_LIB_SRC ${MsFEComplex_TARGET_LIB_SRC})

print_all_args (
  ${MsFEComplex_TARGET_LIB_SRC}
 )
print_all_args (
  ${MsFEComplex_TARGET_APP_SRC}
)

#
# Compile and link the sources as SHARED
#
add_library (${MsFEComplex_LIBRARY} SHARED ${MsFEComplex_TARGET_LIB_SRC})
DEAL_II_SETUP_TARGET(${MsFEComplex_LIBRARY})

#
# Install into the DESTINATION provided by CMAKE_INSTALL_PREFIX
#
#install (TARGETS ${MsFEComplex_LIBRARY} DESTINATION ${CMAKE_INSTALL_PREFIX})

set(MsFEComplex_APP main)
add_executable(${MsFEComplex_APP} ${MsFEComplex_TARGET_APP_SRC})
DEAL_II_SETUP_TARGET(${MsFEComplex_APP})

TARGET_LINK_LIBRARIES(${MsFEComplex_APP} ${MsFEComplex_LIBRARY})